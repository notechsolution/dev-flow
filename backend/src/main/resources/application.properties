spring.profiles.active=local
# this configuration needs to correspond to the Vue.js frontends' vue.config.js devServer.proxy.target configuration!
# otherwise you may experience errors like: Proxy error: Could not proxy request /api/hello from localhost:8080 to http://localhost:8099... (ECONNREFUSED).
server.port=8099
oauth2.config.name=${OAUTH2_CONFIG_NAME:aad}
mongodb.encrypt.keys.0.version=${MONGODB_ENCRYPT_KEYS_VERSION_1:1}
mongodb.encrypt.keys.0.key=${MONGODB_ENCRYPT_KEYS_KEY_1:V21acTR0N3cheiVDKkYtSmFOZFJnVWtYcDJyNXU4eC8=}
security.jwt.secret-key=${JWT_SECRET_KEY_BASE64:Ti8kN3pwUlB2QklxKG5uRGlAL2w/NX0xP3hsUnpTd3o=}

# Crypto Configuration for AccessToken Encryption
# IMPORTANT: Change this key in production! Must be 32 characters for AES-256
crypto.secret.key=${CRYPTO_SECRET_KEY:LeeFlowSecretKey1234567890123456}

# upload file size limit
spring.servlet.multipart.max-file-size=5MB
oauth2.client.registration.github.client-id=${GITHUB_CLIENT_ID:xxx}
oauth2.client.registration.github.client-secret=${GITHUB_CLIENT_SECRET:xxx}
mongodb.url=${MONGODB_URI:mongodb://127.0.0.1:27017/devflow}
mongodb.database.name=${MONGODB_DATABASE_NAME:devflow}

# Dify AI API Configuration
dify.api.base-url=${DIFY_API_BASE_URL:https://api.dify.ai/v1}
dify.api.key.user-story-optimization=${DIFY_API_KEY_USER_STORY:}
dify.api.key.test-case-generation=${DIFY_API_KEY_TEST_CASE:}

# AI Service Configuration
# ai.service.implementation: unified (default, supports multiple providers), qwen-legacy (old implementation)
ai.service.implementation=${AI_SERVICE_IMPLEMENTATION:unified}

# AI Provider Configuration
# ai.provider: qwen (default, Alibaba DashScope), ollama (local Ollama server)
ai.provider=${AI_PROVIDER:qwen}

# Spring AI Alibaba - Qwen Configuration
spring.ai.dashscope.api-key=${DASHSCOPE_API_KEY:dummy-api-key}
spring.ai.dashscope.chat.options.model=${QWEN_MODEL:qwen3-max}
spring.ai.dashscope.chat.options.temperature=0.2
spring.ai.dashscope.chat.options.max-tokens=10000

# Spring AI Ollama Configuration (only used when ai.provider=ollama)
spring.ai.ollama.base-url=${OLLAMA_BASE_URL:http://localhost:11434}
spring.ai.ollama.chat.options.model=${OLLAMA_MODEL:llama2}
spring.ai.ollama.chat.options.temperature=${OLLAMA_TEMPERATURE:0.2}

# Email Configuration
spring.mail.host=${MAIL_HOST:smtp.163.com}
spring.mail.port=${MAIL_PORT:465}
spring.mail.username=${MAIL_USERNAME:your-email@163.com}
spring.mail.password=${MAIL_PASSWORD:your-app-password}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.ssl.enable=true
spring.mail.properties.mail.smtp.ssl.trust=${MAIL_HOST:smtp.163.com}
spring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory
spring.mail.properties.mail.smtp.socketFactory.port=465
app.frontend.url=${FRONTEND_URL:http://localhost:8080}
